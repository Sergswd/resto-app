{"version":3,"sources":["components/app-header/shopping-cart-solid.svg","components/app/bg2.jpg","components/menu-list-item/index.js","components/menu-list-item/menu-list-item.js","components/resto-service-context/index.js","components/resto-service-context/resto-service-context.js","components/hoc/index.js","components/hoc/with-resto-service.js","actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/error/index.js","components/error/error.js","components/menu-list/menu-list.js","components/menu-list/index.js","components/pages/main-page.js","components/cart-table/cart-table.js","components/cart-table/index.js","components/pages/cart-page.js","components/pages/itemPage.js","components/app-header/index.js","components/app-header/app-header.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/resto-service.js","reducers/index.js","store.js","index.js"],"names":["module","exports","__webpack_require__","p","MenuListItem","_ref","menuItem","addToCart","title","price","url","category","id","react_default","a","createElement","className","react_router_dom","to","concat","src","alt","onClick","RestoServiceContext","React","createContext","WithRestoService","Wrapped","props","components_resto_service_context","Consumer","RestoService","Object","assign","menuLoaded","newMenu","type","payload","menuRequested","menuError","Spinner","Error","MenuList","_this","this","getMenuItems","then","res","catch","_this2","_this$props","menuItems","loading","error","components_error","components_spinner","items","map","components_menu_list_item","key","Component","mapDispatchToProps","connect","state","menu","MainPage","components_menu_list","removeFromCart","CartTable","_ref2","uniqueItems","forEach","item","elem","find","arrItem","count","push","Fragment","CartPage","components_cart_table","ItemPage","length","menuOnError","el","match","params","AppHeader","total","cartIcon","App","style","background","Background","components_app_header","react_router","path","exact","component","ErrorBoundry","hasError","setState","children","_apiBase","fetch","ok","status","json","getResourse","initialState","reducer","arguments","undefined","action","objectSpread","newItem","toConsumableArray","itemIdx","findIndex","slice","store","createStore","restoService","ReactDOM","render","es","error_boundry","Provider","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.4ae65d52.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/shopping-cart-solid.701d6d1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/bg2.2b22f4b8.jpg\";","import MenuListItem from './menu-list-item';\r\nexport default MenuListItem;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './menu-list-item.scss';\r\n\r\nconst MenuListItem = ({ menuItem, addToCart }) => {\r\n  const { title, price, url, category, id } = menuItem;\r\n  return (\r\n    <li className=\"menu__item\">\r\n      <Link to={`/${id}`}>\r\n        <div className=\"menu__title\">{title}</div>\r\n      </Link>\r\n      <img className=\"menu__img\" src={url} alt={title}></img>\r\n      <div className=\"menu__category\">\r\n        Category: <span>{category}</span>\r\n      </div>\r\n      <div className=\"menu__price\">\r\n        Price: <span>{price}$</span>\r\n      </div>\r\n      <button className=\"menu__btn\" onClick={() => addToCart()}>\r\n        Add to cart\r\n      </button>\r\n      <span className={`menu__category_Img ${category}`}></span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MenuListItem;","import RestoServiceContext from './resto-service-context';\r\n\r\nexport default RestoServiceContext;","import React from 'react';\r\n\r\nconst RestoServiceContext = React.createContext();\r\n\r\nexport default RestoServiceContext;","import WithRestoService from './with-resto-service';\r\n\r\nexport default WithRestoService;","import React from 'react';\r\nimport RestoServiceContext from '../resto-service-context';\r\n\r\nconst WithRestoService = () => (Wrapped) => {\r\n    return (props) => {\r\n      return (\r\n        <RestoServiceContext.Consumer>\r\n          {\r\n            (RestoService) => {\r\n              return <Wrapped {...props} RestoService={RestoService} />\r\n            }\r\n          }\r\n        </RestoServiceContext.Consumer>\r\n      )\r\n    };\r\n};\r\n\r\nexport default WithRestoService;","const menuLoaded = (newMenu) => {\r\n  return {\r\n    type: 'MENU_LOADED',\r\n    payload: newMenu\r\n  };\r\n};\r\n\r\nconst menuRequested = () => {\r\n  return {\r\n    type: 'MENU_REQUESTED',\r\n  };\r\n};\r\n\r\nconst menuError = () => {\r\n  return {\r\n    type: 'MENU_ERROR',\r\n  }\r\n}\r\n\r\nconst addToCart = (id) => {\r\n  return {\r\n    type: 'ITEM_ADD_TO_CART',\r\n    payload: id\r\n  }\r\n}\r\n\r\nconst removeFromCart = (id) => {\r\n  return {\r\n    type: 'ITEM_REMOVE_FROM_CART',\r\n    payload: id\r\n  };\r\n}\r\n\r\nexport { menuLoaded, menuRequested, menuError, addToCart, removeFromCart };","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nconst Spinner = () => {\r\n    return <div className=\"spinner\">loading...</div>\r\n}\r\n\r\nexport default Spinner;","import Error from './error';\r\n\r\nexport default Error;","import React from 'react';\r\n\r\nconst Error = () => {\r\n    return <div className=\"error\">Error</div>\r\n}\r\n\r\nexport default Error;","import React, {Component} from 'react';\r\nimport MenuListItem from '../menu-list-item';\r\nimport { connect } from 'react-redux';\r\nimport WithRestoService from '../hoc';\r\nimport { menuLoaded, menuRequested, menuError, addToCart } from '../../actions';\r\nimport Spinner from '../spinner';\r\nimport Error from '../error';\r\n\r\nimport './menu-list.scss';\r\n\r\nclass MenuList extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.menuRequested();\r\n\r\n    const { RestoService } = this.props;\r\n    RestoService.getMenuItems()\r\n      .then((res) => this.props.menuLoaded(res))\r\n      .catch(() => this.props.menuError());\r\n  }\r\n\r\n  render() {\r\n\r\n    const { menuItems, loading, error } = this.props;\r\n\r\n    if (error) {\r\n      return <Error />\r\n    }\r\n\r\n    if (loading) {\r\n      return <Spinner />\r\n    }\r\n\r\n    const items = menuItems.map(menuItem => {\r\n      return (\r\n        <MenuListItem\r\n          key={menuItem.id}\r\n          menuItem={menuItem}\r\n          addToCart={() => this.props.addToCart(menuItem.id)}\r\n        />\r\n      );\r\n    })\r\n\r\n    return (\r\n      <ul className=\"menu__list\">\r\n        {items}\r\n      </ul>\r\n    )\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    menuItems: state.menu,\r\n    loading: state.loading,\r\n    error: state.error\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  menuLoaded,\r\n  menuRequested,\r\n  menuError,\r\n  addToCart\r\n}\r\n\r\n\r\nexport default WithRestoService()(connect(mapStateToProps, mapDispatchToProps)(MenuList));","import MenuList from './menu-list';\r\nexport default MenuList;","import React from 'react';\r\nimport MenuList from '../menu-list';\r\n\r\nconst MainPage = () => {\r\n    return (\r\n        <MenuList/>\r\n    )\r\n}\r\n\r\nexport default MainPage;\r\n","import React from 'react';\r\nimport './cart-table.scss';\r\nimport { connect } from 'react-redux';\r\nimport { removeFromCart } from '../../actions';\r\n\r\nconst CartTable = ({ items, removeFromCart }) => {\r\n  const uniqueItems = [];\r\n\r\n  items.forEach(item => {\r\n    const elem = uniqueItems.find(arrItem => arrItem.id === item.id);\r\n    if(elem) {\r\n      elem.count += 1;\r\n    } else {\r\n      item.count = 1;\r\n      uniqueItems.push(item);\r\n    }\r\n  })\r\n  return (\r\n    <>\r\n      <div className=\"cart__title\">Ваш заказ:</div>\r\n      <div className=\"cart__list\">\r\n        {\r\n          uniqueItems.map(item => {\r\n            const {id, count, price, url, title} = item;\r\n            return (\r\n              <div key={id} className=\"cart__item\">\r\n                <img\r\n                  src={url}\r\n                  className=\"cart__item-img\"\r\n                  alt=\"Cesar salad\"\r\n                ></img>\r\n                <div className=\"cart__item-wrap\">\r\n                  <div className=\"cart__item-title\">{title}</div>\r\n                  <div className=\"cart__item-price\">{price}$</div>\r\n                  <div className=\"cart__item-count\">X{count}</div>\r\n                  <div\r\n                    onClick={() => removeFromCart(id)}\r\n                    className=\"cart__close\"\r\n                  >\r\n                    &times;\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({items}) => {\r\n  return {\r\n    items\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  removeFromCart,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartTable);","import CartTable from './cart-table';\r\n\r\nexport default CartTable;","import React from 'react';\r\nimport CartTable from '../cart-table';\r\n\r\nconst CartPage = () => {\r\n    return (\r\n        <div className=\"cart\"> \r\n            <CartTable/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartPage;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport WithRestoService from '../hoc';\r\nimport {\r\n  menuLoaded,\r\n  menuRequested,\r\n  menuError,\r\n  addToCart,\r\n} from '../../actions';\r\nimport Spinner from '../spinner';\r\nimport Error from '../error';\r\nimport './itemPage.scss';\r\n\r\nclass ItemPage extends Component {\r\n  componentDidMount() {\r\n    if (this.props.menuItems.length === 0) {\r\n      this.props.menuRequested();\r\n\r\n      const { RestoService } = this.props;\r\n      RestoService.getMenuItems()\r\n        .then((res) => this.props.menuLoaded(res))\r\n        .catch(() => this.props.menuOnError());\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { menuItems, error, loading } = this.props;\r\n\r\n    if (error) {\r\n      return <Error />;\r\n    }\r\n\r\n    if (loading || menuItems.length === 0) {\r\n      return <Spinner />;\r\n    }\r\n\r\n\r\n    const item = menuItems.find(\r\n      (el) => +el.id === +this.props.match.params.id\r\n    );\r\n    const { title, url, category, price, id } = item;\r\n\r\n    return (\r\n      <div className=\"item_page\">\r\n        <div className=\"menu__item item_block\">\r\n          <div className=\"menu__title\">{title}</div>\r\n          <img className=\"menu__img\" src={url} alt={title}></img>\r\n          <div className=\"menu__category\">\r\n            Category: <span>{category}</span>\r\n          </div>\r\n          <div className=\"menu__price\">\r\n            Price: <span>{price}$</span>\r\n          </div>\r\n          <button\r\n            onClick={() => this.props.addToCart(id)}\r\n            className=\"menu__btn\"\r\n          >\r\n            Add to cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    menuItems: state.menu,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  menuLoaded,\r\n  menuRequested,\r\n  menuError,\r\n  addToCart,\r\n};\r\n\r\nexport default WithRestoService()(\r\n  connect(mapStateToProps, mapDispatchToProps)(ItemPage)\r\n);\r\n","import AppHeader from './app-header';\r\n\r\nexport default AppHeader;","import React from 'react';\r\nimport cartIcon from './shopping-cart-solid.svg';\r\nimport './app-header.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst AppHeader = ({total}) => {\r\n    return (\r\n        <header className=\"header\">\r\n            <Link to={'/'} className=\"header__link\">Menu</Link>\r\n            <Link to=\"/cart\" className=\"header__link\">\r\n                <img className=\"header__cart\" src={cartIcon} alt=\"cart\"></img>\r\n                Total: {total}$\r\n            </Link>\r\n        </header>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = ({total}) => {\r\n    return {\r\n        total\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AppHeader);","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport {MainPage, CartPage, ItemPage} from '../pages';\r\nimport AppHeader from '../app-header';\r\n\r\nimport Background from './bg2.jpg';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div style={{background: `url(${Background}) right center/cover no-repeat`}} className=\"app\">\r\n        <AppHeader />\r\n        <Switch>\r\n          <Route path='/' exact component={MainPage} />\r\n          <Route path='/cart'  component={CartPage} />\r\n          <Route path='/:id' component={ItemPage} />\r\n        </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, {Component} from 'react';\r\nimport Error from '../error';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  }\r\n\r\n  componentDidCatch() {\r\n    this.setState({hasError: true})\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <Error/>\r\n    }\r\n    return this.props.children;\r\n  }\r\n}","export default class RestoService {\r\n  \r\n  _apiBase = 'http://localhost:3000';\r\n\r\n  async getResourse(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`);\r\n    }\r\n    return await res.json();\r\n  }\r\n\r\n  async getMenuItems () {\r\n    return await this.getResourse(`/menu/`);\r\n  }\r\n}","const initialState = {\r\n  menu: [],\r\n  loading: true,\r\n  error: false,\r\n  items: [],\r\n  total: 0\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case 'MENU_LOADED':\r\n      return {\r\n        ...state,\r\n        menu: action.payload,\r\n        loading: false\r\n      }\r\n    case 'MENU_REQUESTED':\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case 'MENU_ERROR':\r\n      return {\r\n        ...state,\r\n        menu: action.payload,\r\n        loading: false,\r\n        error: true\r\n      }\r\n    case 'ITEM_ADD_TO_CART': {\r\n      const id = action.payload;\r\n      const item = state.menu.find((item) => item.id === id);\r\n      const newItem = {\r\n        title: item.title,\r\n        price: item.price,\r\n        url: item.url,\r\n        id: item.id,\r\n      };\r\n      return {\r\n        ...state,\r\n        items: [...state.items, newItem],\r\n        total: state.total + item.price,\r\n      };\r\n    }\r\n    case 'ITEM_REMOVE_FROM_CART': {\r\n      const id = action.payload;\r\n      const itemIdx = state.items.findIndex(item => item.id === id);\r\n      return {\r\n        ...state,\r\n        items: [\r\n          ...state.items.slice(0, itemIdx),\r\n          ...state.items.slice(itemIdx + 1)\r\n        ],\r\n        total: state.total - state.items[itemIdx].price\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport ErrorBoundry from './components/error-boundry';\r\nimport RestoService from './services/resto-service';\r\nimport RestoServiceContext from './components/resto-service-context';\r\nimport store from './store'; \r\n\r\nimport './index.scss';\r\n\r\nconst restoService = new RestoService();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <ErrorBoundry>\r\n        <RestoServiceContext.Provider value={restoService}>\r\n          <Router>\r\n            <App/>\r\n          </Router>\r\n        </RestoServiceContext.Provider>\r\n      </ErrorBoundry>\r\n    </Provider>\r\n    , document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}